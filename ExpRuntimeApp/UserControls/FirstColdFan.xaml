<UserControl
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:ExpRuntimeApp.UserControls"    
             xmlns:metro="http://metro.mahapps.com/winfx/xaml/controls"    
             xmlns:ed="http://schemas.microsoft.com/expression/2010/drawing"
    
             x:Class="ExpRuntimeApp.UserControls.FirstColdFan"
    
             mc:Ignorable="d" 
             d:DesignHeight="360" d:DesignWidth="300"
    DataContext="{StaticResource ExpViewModule}"
    MinWidth="300" MinHeight="360">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/ExpRuntimeApp;component/IndControls/GKElement.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/ExpRuntimeApp;component/IndControls/Styles/StatusStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>

            <Storyboard x:Key="OnLoaded1">
                <DoubleAnimationUsingKeyFrames RepeatBehavior="Forever" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)" Storyboard.TargetName="contentControl">
                    <EasingDoubleKeyFrame KeyTime="0:0:1.8" Value="360"/>
                </DoubleAnimationUsingKeyFrames>
            </Storyboard>

        </ResourceDictionary>

    </UserControl.Resources>
    <UserControl.Triggers>
        <EventTrigger RoutedEvent="FrameworkElement.Loaded">
            <BeginStoryboard x:Name="OnLoaded1_BeginStoryboard" Storyboard="{StaticResource OnLoaded1}"/>
        </EventTrigger>
    </UserControl.Triggers>

    <Grid Margin="2">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Path Data="M7.6872959,354.00344 C7.6872959,344.00325 7.6872959,194.00045 7.6872961,179.0001 7.6872962,171.929 2.6873496,153.99971 32.687287,143.99952 33.977083,143.56957 37.686844,138.99942 37.686844,128.99923 37.686844,122.06664 37.687085,114.88457 37.687285,98.998672 37.687473,83.998391 37.686844,58.997923 37.686844,43.997642 37.686844,22.644394 24.892958,8.9969864 27.686831,8.9969864 27.691818,8.9969864 71.569585,8.9970199 92.548796,8.9971515 107.89587,8.9972478 131.08771,8.9967367&#xD;&#xA;147.68728,8.9971514 162.68725,8.9975261 175.85633,9.7294904 187.95006,13.020385 198.30237,15.837412 204.66835,37.799653 208.09096,48.225126 210.68246,56.119022 211.16527,59.818958 218.16141,63.312873 238.30231,73.37137 269.28343,94.553102 283.61921,103.54686 294.79243,110.55655 293.46806,112.4737 293.36229,116.06718 292.68727,138.9995 292.01203,346.93532 292.68716,354.00344 z" Fill="#FF646665" Margin="-0.812,9.5,9.725,0.5" Stretch="Fill" Stroke="Black" Grid.RowSpan="3" Grid.ColumnSpan="2" StrokeThickness="3"/>
        <!--Fan-->
        <Border Grid.Row="2" Grid.Column="0" Padding="5" Margin="15"
                BorderThickness="3" CornerRadius="3" BorderBrush="#FFB8B0B0" Background="#FF4B4747" 
                >
            <Viewbox Stretch="Uniform" HorizontalAlignment="Center" VerticalAlignment="Center">
                <ContentControl x:Name="contentControl" Content="{StaticResource BigFan}" RenderTransformOrigin="0.5,0.5">
                    <ContentControl.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform/>
                            <SkewTransform/>
                            <RotateTransform/>
                            <TranslateTransform/>
                        </TransformGroup>
                    </ContentControl.RenderTransform>
                </ContentControl>
            </Viewbox>
        </Border>
        <Canvas Grid.Column="1" Height="55" Margin="20,0,18.244,16" Grid.Row="2" VerticalAlignment="Bottom">
            <Rectangle Fill="#FF0B0B0E" Height="5" Stroke="Black" RenderTransformOrigin="0.5,0.5" Width="92">
                <Rectangle.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform/>
                        <RotateTransform Angle="-23.688"/>
                        <TranslateTransform/>
                    </TransformGroup>
                </Rectangle.RenderTransform>
            </Rectangle>
            <Rectangle Fill="#FF0B0B0E" Height="5" Stroke="Black" RenderTransformOrigin="0.5,0.5" Canvas.Left="5" Canvas.Top="15" Width="92">
                <Rectangle.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform/>
                        <RotateTransform Angle="-23.688"/>
                        <TranslateTransform/>
                    </TransformGroup>
                </Rectangle.RenderTransform>
            </Rectangle>
            <Rectangle Fill="#FF0B0B0E" Height="5" Stroke="Black" RenderTransformOrigin="0.5,0.5" Canvas.Left="10" Canvas.Top="30" Width="92">
                <Rectangle.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform/>
                        <RotateTransform Angle="-23.688"/>
                        <TranslateTransform/>
                    </TransformGroup>
                </Rectangle.RenderTransform>
            </Rectangle>
            <Rectangle Fill="#FF0B0B0E" Height="4.741" Stroke="Black" RenderTransformOrigin="0.5,0.5" Canvas.Left="20.421" Canvas.Top="43.863" Width="86.286">
                <Rectangle.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform/>
                        <RotateTransform Angle="-23.688"/>
                        <TranslateTransform/>
                    </TransformGroup>
                </Rectangle.RenderTransform>
            </Rectangle>
            <Rectangle Fill="#FF07070A" Height="4.764" Stroke="Black" RenderTransformOrigin="0.5,0.5" Width="42.756" Canvas.Left="67" Canvas.Top="50.236">
                <Rectangle.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform/>
                        <RotateTransform Angle="-23.688"/>
                        <TranslateTransform/>
                    </TransformGroup>
                </Rectangle.RenderTransform>
            </Rectangle>
        </Canvas>
        <Canvas Margin="3" Grid.Row="2">
            <Ellipse Fill="#FF1F1F23" Height="15" Stroke="Black" Width="15" Canvas.Top="-1"/>
            <Ellipse Fill="#FF1F1F23" Height="15" Stroke="Black" Width="15" Canvas.Top="157"/>
            <Ellipse Fill="#FF1F1F23" Height="15" Stroke="Black" Width="15" Canvas.Left="127" Canvas.Top="157"/>
            <Ellipse Fill="#FF1F1F23" Height="15" Stroke="Black" Width="15" Canvas.Left="127"/>

        </Canvas>
        <Canvas Margin="40,20,3,33">
            <Rectangle Stroke="Black" RadiusX="5" RadiusY="5" StrokeThickness="3" Height="125" Width="105" Fill="#FF646665"/>

            <ToggleButton Canvas.Left="10" Canvas.Top="21" 
                          Style="{DynamicResource StatusSwitchLight}"
                          IsChecked="{Binding Path=MdChannels[风机控制电源合闸].Status,Mode=OneWay}"
                          ToolTip="{Binding MdChannels[风机控制电源合闸].Summary}"/>
            <ToggleButton Canvas.Left="42" Canvas.Top="21" 
                          Style="{DynamicResource StatusSwitchLight}"
                          IsChecked="{Binding Path=MdChannels[风机远程控制].Status,Mode=OneWay}"
                          ToolTip="{Binding MdChannels[风机远程控制].Summary}"/>
            <ToggleButton Canvas.Left="71" Canvas.Top="21" 
                          Name="BeRun"
            	Style="{DynamicResource StatusSwitchLight}"
            	IsChecked="{Binding MdChannels[风机变频器运行].Status,Mode=OneWay}"
                          ToolTip="{Binding MdChannels[风机变频器运行].Summary}"
                          >
            </ToggleButton>
            <ToggleButton Canvas.Left="10" Canvas.Top="61" 
            	Style="{DynamicResource ErrorStatusLight}"
            	IsChecked="{Binding MdChannels[风机变频器故障].Status,Mode=OneWay}"
                          ToolTip="{Binding MdChannels[风机变频器故障].Summary}"
                          Height="54" Width="24"/>
            <ToggleButton Canvas.Left="71" Canvas.Top="61" 
            	Style="{DynamicResource ErrorStatusLight}"
            	IsChecked="{Binding MdChannels[风机报警].Status, Mode=OneWay}" 
                          ToolTip="{Binding MdChannels[风机报警].Summary}"
                          Height="54" Width="24"/>

        </Canvas>
        <Rectangle Grid.Column="1" Fill="#FF1F1F23" Height="10.548" Margin="40.186,34.452,0,0" Stroke="Black" StrokeThickness="2" VerticalAlignment="Top" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Left" Width="26.814">
            <Rectangle.RenderTransform>
                <TransformGroup>
                    <ScaleTransform/>
                    <SkewTransform/>
                    <RotateTransform Angle="69.86"/>
                    <TranslateTransform/>
                </TransformGroup>
            </Rectangle.RenderTransform>
        </Rectangle>
        <Rectangle Grid.Column="1" Fill="#FF1F1F23" Margin="0,65,51,0" RadiusY="5" RadiusX="5" Stroke="Black" StrokeThickness="2" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Right" Width="20" Height="15" VerticalAlignment="Top">
            <Rectangle.RenderTransform>
                <TransformGroup>
                    <ScaleTransform/>
                    <SkewTransform/>
                    <RotateTransform Angle="30.082"/>
                    <TranslateTransform/>
                </TransformGroup>
            </Rectangle.RenderTransform>
        </Rectangle>
        <Rectangle Grid.Column="1" Fill="#FF1F1F23" Margin="0,80,26,83" RadiusY="5" RadiusX="5" Stroke="Black" StrokeThickness="2" RenderTransformOrigin="0.5,0.5" HorizontalAlignment="Right" Width="20">
            <Rectangle.RenderTransform>
                <TransformGroup>
                    <ScaleTransform/>
                    <SkewTransform/>
                    <RotateTransform Angle="30.082"/>
                    <TranslateTransform/>
                </TransformGroup>
            </Rectangle.RenderTransform>
        </Rectangle>
        <Canvas Grid.ColumnSpan="2" Height="20" Margin="65.667,0,14.333,0" VerticalAlignment="Bottom">
            <Rectangle Fill="#FF303232" Height="10" Stroke="#FF463838" StrokeThickness="2" Width="216"/>
            <Rectangle Fill="#FF161717" Stroke="#FF171212" StrokeThickness="2" Height="7" Canvas.Left="82.333" Canvas.Top="13" Width="133.667"/>

        </Canvas>
        <Path Grid.Column="1" Data="M12.505747,3.2528736 C11.245027,3.2528736 8.0536129,5.5077151 6.5725991,7.1980337 4.676902,9.3616418 3.9350075,11.995393 4.7011494,12.666667 5.4672908,13.33794 6.1847627,9.9222283 8.0804598,7.7586207 9.9761574,5.5950121 10.879494,5.3033747 12.988506,4.4597701 15,3.6551724 13.149425,3.2528736 12.505747,3.2528736 z M15,1 C22.731987,1 29,7.2680135 29,15 29,22.731987 22.731987,29 15,29 7.2680135,29 1,22.731987 1,15 1,7.2680135 7.2680135,1 15,1 z" Fill="#FF1F1F23" Height="30" Margin="0,0,16,25" Stretch="Fill" Stroke="Black" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="30"/>
        <Rectangle Grid.Column="1" Fill="#FF161717" HorizontalAlignment="Left" Margin="0,0,0,3" Grid.Row="2" Stroke="#FF171212" Width="5"/>
        <Rectangle Grid.Column="1" Margin="5,10,14,38" RadiusY="5" Grid.Row="2" RadiusX="5" Stroke="#FF342F2F" Fill="#FF8D9191" StrokeThickness="2"/>
        <TextBox Grid.Column="1" HorizontalAlignment="Left" Height="36" Margin="10,15,0,0" Grid.Row="2" IsReadOnly="True"
                 Text="{Binding MdChannels[FirstColdFan].Value,StringFormat={}{0:F0} rmp,Mode=OneWay}" VerticalAlignment="Top" Width="116" FontSize="16" FontWeight="Black" FontStyle="Italic"
                 />

        <metro:NumericUpDown Margin="10,56,22,92" Grid.Column="1" Grid.Row="2" UpDownButtonsWidth="15"
                             FontSize="16"
                             Minimum="{Binding Path=MdChannels[FirstColdFan].RangeLow}"
                             Maximum="{Binding Path=MdChannels[FirstColdFan].RangeHigh}"
                             StringFormat="{}{0:F0} rmp"
                             Value="{Binding Path=MdChannels[FirstColdFan].AOValue}"/>
        <Button x:Name="button" Grid.Column="1" HorizontalAlignment="Left" Margin="84,91,0,0" Grid.Row="2" VerticalAlignment="Top" Width="42" Height="42"
                metro:ButtonHelper.CornerRadius="10" Background="{x:Null}" Cursor="Hand"
                Command="{Binding Path=ExpPointOutputCommand}"
                CommandParameter="{Binding Path=MdChannels[FirstColdFan]}"
                ToolTip="启动风机">
            <Button.Content>
                <Image>
                    <Image.Source>
                        <DrawingImage>
                            <DrawingImage.Drawing>
                                <GeometryDrawing Geometry="{StaticResource AirFunGeometry}" Brush="#FF232738" ></GeometryDrawing>
                            </DrawingImage.Drawing>
                        </DrawingImage>
                    </Image.Source>
                </Image>
            </Button.Content>
        </Button>
        <metro:DropDownButton Grid.Column="1" HorizontalAlignment="Right" Height="38" Margin="0,107,51,0" VerticalAlignment="Top" Width="87" ArrowVisibility="Collapsed" ArrowBrush="{x:Null}" ArrowMouseOverBrush="{x:Null}" ArrowPressedBrush="{x:Null}" BorderBrush="{x:Null}"
                              FontSize="18"
                              MinHeight="20"
                              Content="...更多 " Background="{x:Null}"
                              ToolTip="查看更多风机数据。">
            <metro:DropDownButton.Items>
                <TextBox Style="{StaticResource HeaderTextBox}"
                         local:TextHeaderHelper.TextHeader="风机变频器电机转速反馈"
                         IsReadOnly="True"
                         >
                    <TextBox.Text>
                        <MultiBinding StringFormat="{}{0:F1} {1}">
                            <Binding Path="MdChannels[MOTOSPEED_HMI].MeasureValue"/>
                            <Binding Path="MdChannels[MOTOSPEED_HMI].Unit"/>
                        </MultiBinding>
                    </TextBox.Text>
                </TextBox>

                <TextBox Style="{StaticResource HeaderTextBox}"
                         local:TextHeaderHelper.TextHeader="风机变频器电机电流反馈"
                         IsReadOnly="True"
                         >
                    <TextBox.Text>
                        <MultiBinding StringFormat="{}{0:F1} {1}">
                            <Binding Path="MdChannels[MOTOCURRENT_HMI].MeasureValue"/>
                            <Binding Path="MdChannels[MOTOCURRENT_HMI].Unit"/>
                        </MultiBinding>
                    </TextBox.Text>
                </TextBox>

                <TextBox Style="{StaticResource HeaderTextBox}"
                         local:TextHeaderHelper.TextHeader="风机电机前轴承温度TT1"
                         IsReadOnly="True"
                         >
                    <TextBox.Text>
                        <MultiBinding StringFormat="{}{0:F1} {1}">
                            <Binding Path="MdChannels[FJ_QZC_TT_HMI].MeasureValue"/>
                            <Binding Path="MdChannels[FJ_QZC_TT_HMI].Unit"/>
                        </MultiBinding>
                    </TextBox.Text>
                </TextBox>

                <TextBox Style="{StaticResource HeaderTextBox}"
                         local:TextHeaderHelper.TextHeader="风机电机后轴承温度TT2"
                         IsReadOnly="True"
                         >
                    <TextBox.Text>
                        <MultiBinding StringFormat="{}{0:F1} {1}">
                            <Binding Path="MdChannels[FJ_HZC_TT_HMI].MeasureValue"/>
                            <Binding Path="MdChannels[FJ_HZC_TT_HMI].Unit"/>
                        </MultiBinding>
                    </TextBox.Text>
                </TextBox>

                <TextBox Style="{StaticResource HeaderTextBox}"
                         local:TextHeaderHelper.TextHeader="风机电机绕组U温度TT3"
                         IsReadOnly="True"
                         >
                    <TextBox.Text>
                        <MultiBinding StringFormat="{}{0:F1} {1}">
                            <Binding Path="MdChannels[FJ_WINDING_U_TT_HMI].MeasureValue"/>
                            <Binding Path="MdChannels[FJ_WINDING_U_TT_HMI].Unit"/>
                        </MultiBinding>
                    </TextBox.Text>
                </TextBox>

                <TextBox Style="{StaticResource HeaderTextBox}"
                         local:TextHeaderHelper.TextHeader="风机电机绕组V温度TT4"
                         IsReadOnly="True"
                         >
                    <TextBox.Text>
                        <MultiBinding StringFormat="{}{0:F1} {1}">
                            <Binding Path="MdChannels[FJ_WINDING_V_TT_HMI].MeasureValue"/>
                            <Binding Path="MdChannels[FJ_WINDING_V_TT_HMI].Unit"/>
                        </MultiBinding>
                    </TextBox.Text>
                </TextBox>
                <TextBox Style="{StaticResource HeaderTextBox}"
                         local:TextHeaderHelper.TextHeader="风机电机绕组W温度TT5"
                         IsReadOnly="True"
                         >
                    <TextBox.Text>
                        <MultiBinding StringFormat="{}{0:F1} {1}">
                            <Binding Path="MdChannels[FJ_WINDING_W_TT_HMI].MeasureValue"/>
                            <Binding Path="MdChannels[FJ_WINDING_W_TT_HMI].Unit"/>
                        </MultiBinding>
                    </TextBox.Text>
                </TextBox>
                <TextBox Style="{StaticResource HeaderTextBox}"
                         local:TextHeaderHelper.TextHeader="风机电机前轴振动"
                         IsReadOnly="True"
                         >
                    <TextBox.Text>
                        <MultiBinding StringFormat="{}{0:F1} {1}">
                            <Binding Path="MdChannels[FJ_Q_ZD_HMI].MeasureValue"/>
                            <Binding Path="MdChannels[FJ_Q_ZD_HMI].Unit"/>
                        </MultiBinding>
                    </TextBox.Text>
                </TextBox>
                <TextBox Style="{StaticResource HeaderTextBox}"
                         local:TextHeaderHelper.TextHeader="风机电机后轴振动"
                         IsReadOnly="True"
                         >
                    <TextBox.Text>
                        <MultiBinding StringFormat="{}{0:F1} {1}">
                            <Binding Path="MdChannels[FJ_H_ZD_HMI].MeasureValue"/>
                            <Binding Path="MdChannels[FJ_H_ZD_HMI].Unit"/>
                        </MultiBinding>
                    </TextBox.Text>
                </TextBox>
            </metro:DropDownButton.Items>

        </metro:DropDownButton>
        <Button Grid.Column="1" HorizontalAlignment="Left" Margin="10,91,0,0" Grid.Row="2" VerticalAlignment="Top" Width="42" Height="42"
            metro:ButtonHelper.CornerRadius="10" Background="{x:Null}" Cursor="Hand"
            Command="{Binding ExpPointOutputCommand}"
            CommandParameter="{Binding MdChannels[FirstColdFan]}"
            ToolTip="停止风机" Foreground="#FF232738">
            <Rectangle Width="32" Height="32" Fill="{Binding Path=Foreground,RelativeSource={RelativeSource Mode=FindAncestor,AncestorType={x:Type Button}}}">
                <Rectangle.OpacityMask>
                    <VisualBrush Visual="{StaticResource appbar_stop}" Stretch="Uniform"/>
                </Rectangle.OpacityMask>
            </Rectangle>
        </Button>

    </Grid>

</UserControl>
